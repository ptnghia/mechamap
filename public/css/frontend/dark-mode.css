/* ========================================
   Custom MechaMap Utilities
   ======================================== */
.text-primary-emphasis {
  color: var(--bs-primary-text-emphasis) !important;
}

.bg-primary-subtle {
  background-color: var(--bs-primary-bg-subtle) !important;
}

.border-primary-subtle {
  border-color: var(--bs-primary-border-subtle) !important;
}

.shadow-primary {
  box-shadow: 0 0.5rem 1rem rgba(126, 119, 87, 0.15) !important;
}

.shadow-primary-sm {
  box-shadow: 0 0.125rem 0.25rem rgba(126, 119, 87, 0.075) !important;
}

.shadow-primary-lg {
  box-shadow: 0 1rem 3rem rgba(126, 119, 87, 0.175) !important;
}

/* ========================================
   DARK MODE CONFIGURATION
   ======================================== */

/* Dark Mode - Auto Detection */
@media (prefers-color-scheme: dark) {
  :root {
    /* Primary Color Palette - Dark Mode */
    --bs-primary: #9a9270;
    --bs-primary-rgb: 154, 146, 112;
    --bs-primary-text-emphasis: #b8b088;
    --bs-primary-bg-subtle: #2a2820;
    --bs-primary-border-subtle: #4a4533;

    /* Secondary Color Palette - Dark Mode */
    --bs-secondary: #8a9199;
    --bs-secondary-rgb: 138, 145, 153;
    --bs-secondary-text-emphasis: #a8b0b8;
    --bs-secondary-bg-subtle: #1a1d20;
    --bs-secondary-border-subtle: #3a3d40;

    /* Success Color Palette - Dark Mode */
    --bs-success: #6b9176;
    --bs-success-rgb: 107, 145, 118;
    --bs-success-text-emphasis: #7ba586;
    --bs-success-bg-subtle: #1a2d1f;
    --bs-success-border-subtle: #3a5d3f;

    /* Info Color Palette - Dark Mode */
    --bs-info: #7ba3b1;
    --bs-info-rgb: 123, 163, 177;
    --bs-info-text-emphasis: #8bb7c5;
    --bs-info-bg-subtle: #1a2a2f;
    --bs-info-border-subtle: #3a5a5f;

    /* Warning Color Palette - Dark Mode */
    --bs-warning: #c8aa7b;
    --bs-warning-rgb: 200, 170, 123;
    --bs-warning-text-emphasis: #d8be8b;
    --bs-warning-bg-subtle: #2f2620;
    --bs-warning-border-subtle: #5f4c40;

    /* Danger Color Palette - Dark Mode */
    --bs-danger: #b67b7b;
    --bs-danger-rgb: 182, 123, 123;
    --bs-danger-text-emphasis: #c68b8b;
    --bs-danger-bg-subtle: #2d1a1a;
    --bs-danger-border-subtle: #5d3a3a;

    /* Light & Dark - Dark Mode */
    --bs-light: #343a40;
    --bs-light-rgb: 52, 58, 64;
    --bs-dark: #f8f9fa;
    --bs-dark-rgb: 248, 249, 250;

    /* Body Colors - Dark Mode */
    --bs-body-color: #e9ecef;
    --bs-body-bg: #121212;
    --bs-emphasis-color: #ffffff;
    --bs-secondary-color: rgba(233, 236, 239, 0.75);
    --bs-tertiary-color: rgba(233, 236, 239, 0.5);

    /* Border Colors - Dark Mode */
    --bs-border-color: #495057;
    --bs-border-color-translucent: rgba(255, 255, 255, 0.175);

    /* Link Colors - Dark Mode */
    --bs-link-color: #9a9270;
    --bs-link-hover-color: #b8b088;
    --bs-link-color-rgb: 154, 146, 112;
    --bs-link-hover-color-rgb: 184, 176, 136;
  }

  /* Dark Mode Body Styles */
  body {
    background-color: var(--bs-body-bg);
    color: var(--bs-body-color);
  }

  /* Dark Mode Card Styles */
  .card {
    background-color: #1e1e1e;
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
  }

  .card-header {
    background-color: var(--bs-primary-bg-subtle);
    border-bottom-color: var(--bs-border-color);
    color: var(--bs-body-color);
  }

  /* Dark Mode Form Styles */
  .form-control,
  .form-select {
    background-color: #2d2d2d;
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
  }

  .form-control:focus,
  .form-select:focus {
    background-color: #2d2d2d;
    border-color: var(--bs-primary);
    color: var(--bs-body-color);
    box-shadow: 0 0 0 0.25rem rgba(154, 146, 112, 0.25);
  }

  .form-control::placeholder {
    color: var(--bs-tertiary-color);
  }

  /* Dark Mode Navigation */
  .navbar-light {
    background-color: #1e1e1e !important;
  }

  .navbar-light .navbar-nav .nav-link {
    color: var(--bs-body-color);
  }

  .navbar-light .navbar-nav .nav-link:hover,
  .navbar-light .navbar-nav .nav-link:focus {
    color: var(--bs-primary);
  }

  .navbar-light .navbar-brand {
    color: var(--bs-primary);
  }

  /* Dark Mode Table */
  .table {
    --bs-table-color: var(--bs-body-color);
    --bs-table-bg: transparent;
    --bs-table-border-color: var(--bs-border-color);
  }

  .table-striped > tbody > tr:nth-of-type(odd) > td,
  .table-striped > tbody > tr:nth-of-type(odd) > th {
    background-color: rgba(255, 255, 255, 0.05);
  }

  /* Dark Mode Dropdown */
  .dropdown-menu {
    background-color: #2d2d2d;
    border-color: var(--bs-border-color);
  }

  .dropdown-item {
    color: var(--bs-body-color);
  }

  .dropdown-item:hover,
  .dropdown-item:focus {
    background-color: var(--bs-primary-bg-subtle);
    color: var(--bs-primary-text-emphasis);
  }
}

/* ========================================
   MANUAL DARK MODE TOGGLE
   ======================================== */

/* Dark Mode - Manual Toggle with data-bs-theme="dark" */
[data-bs-theme="dark"] {
  /* Primary Color Palette - Dark Mode */
  --bs-primary: #9a9270;
  --bs-primary-rgb: 154, 146, 112;
  --bs-primary-text-emphasis: #b8b088;
  --bs-primary-bg-subtle: #2a2820;
  --bs-primary-border-subtle: #4a4533;

  /* Secondary Color Palette - Dark Mode */
  --bs-secondary: #8a9199;
  --bs-secondary-rgb: 138, 145, 153;
  --bs-secondary-text-emphasis: #a8b0b8;
  --bs-secondary-bg-subtle: #1a1d20;
  --bs-secondary-border-subtle: #3a3d40;

  /* Success Color Palette - Dark Mode */
  --bs-success: #6b9176;
  --bs-success-rgb: 107, 145, 118;
  --bs-success-text-emphasis: #7ba586;
  --bs-success-bg-subtle: #1a2d1f;
  --bs-success-border-subtle: #3a5d3f;

  /* Info Color Palette - Dark Mode */
  --bs-info: #7ba3b1;
  --bs-info-rgb: 123, 163, 177;
  --bs-info-text-emphasis: #8bb7c5;
  --bs-info-bg-subtle: #1a2a2f;
  --bs-info-border-subtle: #3a5a5f;

  /* Warning Color Palette - Dark Mode */
  --bs-warning: #c8aa7b;
  --bs-warning-rgb: 200, 170, 123;
  --bs-warning-text-emphasis: #d8be8b;
  --bs-warning-bg-subtle: #2f2620;
  --bs-warning-border-subtle: #5f4c40;

  /* Danger Color Palette - Dark Mode */
  --bs-danger: #b67b7b;
  --bs-danger-rgb: 182, 123, 123;
  --bs-danger-text-emphasis: #c68b8b;
  --bs-danger-bg-subtle: #2d1a1a;
  --bs-danger-border-subtle: #5d3a3a;

  /* Light & Dark - Dark Mode */
  --bs-light: #343a40;
  --bs-light-rgb: 52, 58, 64;
  --bs-dark: #f8f9fa;
  --bs-dark-rgb: 248, 249, 250;

  /* Body Colors - Dark Mode */
  --bs-body-color: #e9ecef;
  --bs-body-bg: #121212;
  --bs-emphasis-color: #ffffff;
  --bs-secondary-color: rgba(233, 236, 239, 0.75);
  --bs-tertiary-color: rgba(233, 236, 239, 0.5);

  /* Border Colors - Dark Mode */
  --bs-border-color: #495057;
  --bs-border-color-translucent: rgba(255, 255, 255, 0.175);

  /* Link Colors - Dark Mode */
  --bs-link-color: #9a9270;
  --bs-link-hover-color: #b8b088;
  --bs-link-color-rgb: 154, 146, 112;
  --bs-link-hover-color-rgb: 184, 176, 136;
}

/* Dark Mode Body Styles - Manual Toggle */
[data-bs-theme="dark"] body {
  background-color: var(--bs-body-bg);
  color: var(--bs-body-color);
}

/* Dark Mode Card Styles - Manual Toggle */
[data-bs-theme="dark"] .card {
  background-color: #1e1e1e;
  border-color: var(--bs-border-color);
  color: var(--bs-body-color);
}

[data-bs-theme="dark"] .card-header {
  background-color: var(--bs-primary-bg-subtle);
  border-bottom-color: var(--bs-border-color);
  color: var(--bs-body-color);
}

/* Dark Mode Form Styles - Manual Toggle */
[data-bs-theme="dark"] .form-control,
[data-bs-theme="dark"] .form-select {
  background-color: #2d2d2d;
  border-color: var(--bs-border-color);
  color: var(--bs-body-color);
}

[data-bs-theme="dark"] .form-control:focus,
[data-bs-theme="dark"] .form-select:focus {
  background-color: #2d2d2d;
  border-color: var(--bs-primary);
  color: var(--bs-body-color);
  box-shadow: 0 0 0 0.25rem rgba(154, 146, 112, 0.25);
}

[data-bs-theme="dark"] .form-control::placeholder {
  color: var(--bs-tertiary-color);
}

/* Dark Mode Navigation - Manual Toggle */
[data-bs-theme="dark"] .navbar-light {
  background-color: #1e1e1e !important;
}

[data-bs-theme="dark"] .navbar-light .navbar-nav .nav-link {
  color: var(--bs-body-color);
}

[data-bs-theme="dark"] .navbar-light .navbar-nav .nav-link:hover,
[data-bs-theme="dark"] .navbar-light .navbar-nav .nav-link:focus {
  color: var(--bs-primary);
}

[data-bs-theme="dark"] .navbar-light .navbar-brand {
  color: var(--bs-primary);
}

/* Dark Mode Table - Manual Toggle */
[data-bs-theme="dark"] .table {
  --bs-table-color: var(--bs-body-color);
  --bs-table-bg: transparent;
  --bs-table-border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) > td,
[data-bs-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) > th {
  background-color: rgba(255, 255, 255, 0.05);
}

/* Dark Mode Dropdown - Manual Toggle */
[data-bs-theme="dark"] .dropdown-menu {
  background-color: #2d2d2d;
  border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .dropdown-item {
  color: var(--bs-body-color);
}

[data-bs-theme="dark"] .dropdown-item:hover,
[data-bs-theme="dark"] .dropdown-item:focus {
  background-color: var(--bs-primary-bg-subtle);
  color: var(--bs-primary-text-emphasis);
}

/* ========================================
   DARK MODE UTILITY CLASSES
   ======================================== */

/* Dark Mode Toggle Button */
.theme-toggle {
  background: none;
  border: 1px solid var(--bs-border-color);
  border-radius: var(--bs-btn-border-radius);
  padding: 0.375rem 0.75rem;
  color: var(--bs-body-color);
  cursor: pointer;
  transition: all 0.15s ease-in-out;
}

.theme-toggle:hover {
  background-color: var(--bs-primary-bg-subtle);
  border-color: var(--bs-primary-border-subtle);
  color: var(--bs-primary);
}

.theme-toggle:focus {
  outline: none;
  box-shadow: 0 0 0 0.25rem rgba(126, 119, 87, 0.25);
}

/* Dark Mode Icons */
.theme-toggle .light-icon {
  display: inline-block;
}

.theme-toggle .dark-icon {
  display: none;
}

[data-bs-theme="dark"] .theme-toggle .light-icon {
  display: none;
}

[data-bs-theme="dark"] .theme-toggle .dark-icon {
  display: inline-block;
}

/* Dark Mode Specific Shadows */
[data-bs-theme="dark"] .shadow-primary {
  box-shadow: 0 0.5rem 1rem rgba(154, 146, 112, 0.15) !important;
}

[data-bs-theme="dark"] .shadow-primary-sm {
  box-shadow: 0 0.125rem 0.25rem rgba(154, 146, 112, 0.075) !important;
}

[data-bs-theme="dark"] .shadow-primary-lg {
  box-shadow: 0 1rem 3rem rgba(154, 146, 112, 0.175) !important;
}

/* Dark Mode Alert Styles */
[data-bs-theme="dark"] .alert {
  border-color: var(--bs-border-color);
}

/* Dark Mode Modal */
[data-bs-theme="dark"] .modal-content {
  background-color: #1e1e1e;
  border-color: var(--bs-border-color);
  color: var(--bs-body-color);
}

[data-bs-theme="dark"] .modal-header {
  border-bottom-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .modal-footer {
  border-top-color: var(--bs-border-color);
}

/* Dark Mode Offcanvas */
[data-bs-theme="dark"] .offcanvas {
  background-color: #1e1e1e;
  color: var(--bs-body-color);
}

[data-bs-theme="dark"] .offcanvas-header {
  border-bottom-color: var(--bs-border-color);
}

/* Dark Mode Accordion */
[data-bs-theme="dark"] .accordion-item {
  background-color: #1e1e1e;
  border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .accordion-button {
  background-color: #2d2d2d;
  color: var(--bs-body-color);
  border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .accordion-button:not(.collapsed) {
  background-color: var(--bs-primary-bg-subtle);
  color: var(--bs-primary-text-emphasis);
}

/* Dark Mode Pagination */
[data-bs-theme="dark"] .page-link {
  background-color: #2d2d2d;
  border-color: var(--bs-border-color);
  color: var(--bs-body-color);
}

[data-bs-theme="dark"] .page-link:hover {
  background-color: var(--bs-primary-bg-subtle);
  border-color: var(--bs-primary-border-subtle);
  color: var(--bs-primary-text-emphasis);
}

[data-bs-theme="dark"] .page-item.active .page-link {
  background-color: var(--bs-primary);
  border-color: var(--bs-primary);
  color: #fff;
}

/* Dark Mode Breadcrumb */
[data-bs-theme="dark"] .breadcrumb-item + .breadcrumb-item::before {
  color: var(--bs-secondary-color);
}

/* Dark Mode List Group */
[data-bs-theme="dark"] .list-group-item {
  background-color: #1e1e1e;
  border-color: var(--bs-border-color);
  color: var(--bs-body-color);
}

[data-bs-theme="dark"] .list-group-item:hover {
  background-color: #2d2d2d;
}

[data-bs-theme="dark"] .list-group-item.active {
  background-color: var(--bs-primary);
  border-color: var(--bs-primary);
  color: #fff;
}
